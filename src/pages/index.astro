---
import Layout from '../layouts/layout.astro';
import { Image } from 'astro:assets';
import logo from '../assets/hound2.svg';

import { getCollection } from 'astro:content';
import FeaturedArticle from '../components/FeaturedArticle.astro';

const posts = (await getCollection('blogs')).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
---

<Layout title='HoundAI - Exploring Tech and AI'>
  <header class="sticky top-0 w-full z-10 bg-[radial-gradient(transparent_1px,#ffff_0.5px)] [background-size:4px_4px] backdrop-blur-sm ">
    <nav class='flex justify-between items-center py-4 px-6 max-w-6xl mx-auto'>
      <a href="#home" class="text-2xl font-light font-serif">HoundAI</a>
      <ul class="flex gap-8">
        <li>
          <a href="#home" class="text-gray-600 hover:text-gray-900 transition duration-300 ease-in-out">
            Home
          </a>
        </li>
        <li>
          <a href="#articles" class="text-gray-600 hover:text-gray-900 transition duration-300 ease-in-out">
            Articles
          </a>
        </li>
      </ul>
    </nav>
  </header>
  
  <main class="max-w-6xl mx-auto px-4">
    <section id="home" class='text-center py-20 md:py-32'>
      <Image 
        src={logo} 
        alt='HoundAI Logo' 
        class='mx-auto mb-8 w-40 h-40 md:w-56 md:h-56 transform hover:scale-105 transition-transform duration-300' 
        draggable={'false'} 
      />
      <h1 class='text-4xl md:text-6xl font-light mb-4 animate-fade-in font-serif'>HoundAI</h1>
      <p class='text-gray-700 text-lg md:text-xl mb-8 max-w-2xl mx-auto animate-fade-in-delayed'>
        Exploring the latest in tech and AI
      </p>
      <a 
        href="#articles" 
        class="inline-block bg-gray-900 text-white py-2 px-6 rounded-full hover:bg-gray-700 transition duration-300 ease-in-out animate-fade-in-delayed"
      >
        Explore Articles
      </a>
    </section>

    <section id="articles" class="py-16">
      <h2 class="text-3xl font-light mb-8 font-serif">Latest Articles</h2>
      <FeaturedArticle articles={posts} />
    </section>
  </main>
</Layout>

<style>
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fade-in {
    animation: fadeIn 0.8s ease-out forwards;
  }
  
  .animate-fade-in-delayed {
    animation: fadeIn 0.8s ease-out 0.2s forwards;
    opacity: 0;
  }


</style>

<script>
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e: Event) {
      e.preventDefault();
      const target = this as HTMLAnchorElement;
      const element = document.querySelector(target.getAttribute('href')!);
      if (element) {
        element.scrollIntoView({
          behavior: 'smooth'
        });
      }
    } as (this: HTMLAnchorElement, e: Event) => void);
  });
</script>